(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(870),o=r(81);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"parse",value:function(){return this.params=(0,a.parse)(window.location.href.split("?")[1]),this}},{key:"delEmptyParams",value:function(){var e=this,t=this.params;return Object.keys(t).forEach(function(r){""!==t[r]&&null!==t[r]&&"undefined"!==t[r]||delete e.params[r]}),this}},{key:"getParams",value:function(){return this.params}},{key:"addParams",value:function(e){var t=this;Object.keys(e).forEach(function(r){t.params[r]=e[r]})}},{key:"delParams",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{key:"state",rule:["eq","all"]},{key:"keywords_type",rule:["rely","keywords"]}],t=0;t<e.length;t++){var r=e[t].rule,n=e[t].key;switch(r[0]){case"eq":this.params[n]===r[1]&&delete this.params[n];break;case"rely":void 0===this.params[r[1]]&&delete this.params[n]}}return this}},{key:"withPageParams",value:function(){var t=e.getPageLimit(),r=t.page,n=t.rows;return this.addParams({page:r,rows:n}),this}}],[{key:"invokerForListParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(new e).parse().delEmptyParams().withPageParams().delParams(t).getParams()}},{key:"getQuery",value:function(){return(0,a.parse)(window.location.href.split("?")[1])}},{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,a.stringify)(t);return r.length?e+"?"+r:e}},{key:"getPageLimit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.getQuery();return{page:void 0!==n.page&&parseInt(n.page,10)>0?parseInt(n.page,10):t,rows:void 0!==n.rows&&parseInt(n.rows,10)>0?parseInt(n.rows,10):r}}},{key:"page",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=window.fashop.historyPrefix;return e.getPath(window.location.pathname.replace((o.__DEV__,n),""),Object.assign({},e.getQuery(),{page:t,rows:r}))}}]),e}();t.default=i},1982:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,o,i=y(r(57)),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(59);var d=r(1),u=y(d),l=y(r(1983)),c=r(8),f=r(15),p=(r(34),r(69)),_=y(r(31)),h=y(r(56)),g=r(248),m=y(r(121));function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,f.connect)(function(e){var t=e.view.order;return{orderList:t.orderList,orderListLoading:t.orderListLoading}})((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,r=e.user_id,n=m.default.invokerForListParams([{key:"state",rule:["eq","all"]},{key:"keywords_type",rule:["rely","keywords"]}]);n.user_ids=[r],void 0!==n.create_time&&(n.create_time=[(0,_.default)(n.create_time[0]).unix(),(0,_.default)(n.create_time[1]).unix()]),t((0,g.getOrderList)({params:n}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.orderList,n=t.orderListLoading,a=t.history,o=r.list;o&&o.map(function(e){return e.extend_order_goods.map(function(t){return t.reciver_info=e.extend_order_extend.reciver_info,t.rows=e.extend_order_goods.length,t}),e});var s=[{title:"订单号",dataIndex:"sn",key:"sn"},{title:"下单时间",dataIndex:"create_time",key:"create_time",render:function(e){return(0,_.default)(e,"X").format("YYYY-MM-DD HH:mm:ss")}},{title:"订单状态",dataIndex:"state_type",key:"state_type",render:function(t){return u.default.createElement("span",null,e.returnOrderState(t))}},{title:"运费（元）",dataIndex:"freight_fee",key:"freight_fee",render:function(e){return"¥"+e}},{title:"商品总额（元）",dataIndex:"amount",key:"amount",render:function(e){return"¥"+e}},{title:"操作",key:"operation",render:function(t){return u.default.createElement(c.View,{className:l.default.operation},u.default.createElement("a",{onClick:function(){e.props.history.push("/order/list/detail?id="+t.id)}},"详情"))}}],d=[{title:"商品图",dataIndex:"goods_img",key:"goods_img",className:l.default.goodsGoodsImg+" "+l.default.borderRightNone,render:function(e){return u.default.createElement(h.default,{type:"goods",src:e,style:{width:32,height:32}})}},{title:"商品名称",dataIndex:"goods_title",key:"goods_title",className:""+l.default.goodsTitle},{title:"规格",dataIndex:"goods_spec",key:"goods_spec",className:""+l.default.goodsSpec,render:function(e){return e[0].id>0?e.map(function(e){return e.value_name+" "}):"-"}},{title:"数量",dataIndex:"goods_num",key:"goods_num",className:""+l.default.goodsNum,render:function(e){return e+" 件"}},{title:"单价",dataIndex:"goods_price",key:"goods_price",className:""+l.default.goodsPrice,render:function(e){return"¥"+e}},{title:"收货人",dataIndex:"reciver_info.name",key:"reciver",className:l.default.reciver+" "+l.default.borderLeft,render:function(e,t,r){return{children:""+e,props:{rowSpan:0===r?t.rows:0}}}},{title:"联系方式",dataIndex:"reciver_info.phone",key:"reciver_phone",className:l.default.reciverPhone+" "+l.default.borderLeft,render:function(e,t,r){return{children:e,props:{rowSpan:0===r?t.rows:0}}}},{title:"收货地址",dataIndex:"reciver_info.address",key:"reciver_address",className:l.default.reciverAddress+" "+l.default.borderLeft,render:function(e,t,r){return{children:e,props:{rowSpan:0===r?t.rows:0}}}}];return u.default.createElement(c.View,null,r.list?u.default.createElement(i.default,{className:"tableGoodsNested",loading:n,dataSource:r.list?r.list:[],columns:s,expandedRowRender:function(e){return u.default.createElement(i.default,{className:"tableGoodsNestedChild",dataSource:e.extend_order_goods?e.extend_order_goods:[],columns:d,pagination:!1,rowKey:function(e){return e.id+"_child"}})},defaultExpandAllRows:!1,pagination:{showSizeChanger:!1,showQuickJumper:!1,pageSize:r.rows,total:r.total_number,current:r.page},onChange:function(e){var t=e.current,r=e.pageSize;a.push(m.default.page(t,r))},rowKey:function(e){return e.id}}):"")}},{key:"returnOrderState",value:function(e){switch(e){case"state_new":return"待支付";case"state_pay":return"待发货";case"state_send":return"待收货";case"state_success":return"已完成";case"state_noeval":return"待评价";case"state_cancel":return"已取消";default:return""}}}]),t}(),a.defaultProps={dispatch:p.dispatchProps,orderListLoading:!1,orderList:{}},n=o))||n;t.default=v},1983:function(e,t,r){var n=r(1984);"string"==typeof n&&(n=[[e.i,n,""]]);var a={transform:void 0};r(11)(n,a);n.locals&&(e.exports=n.locals)},1984:function(e,t,r){(t=e.exports=r(10)(!1)).push([e.i,"._2z5TxovDRMlOcfX8ReP0S_{\n    text-align: center!important;\n}\n.pkHO__tGn0zW9yQQ-nMfO{\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n}\n.pkHO__tGn0zW9yQQ-nMfO a{\n    margin-right: 10px;\n}\n.pkHO__tGn0zW9yQQ-nMfO a:last-child{\n    margin-right: 0;\n}\n._2PdI6bq8DQrSz9928jrD1o{\n    margin-bottom: 24px;\n    flex-direction: row;\n}\n._2PdI6bq8DQrSz9928jrD1o button{\n    margin-right: 24px;\n}\n\n._1_VdAC8N7MRcrG0PNQswbD{\n    border-right: 0!important;\n}\n._2jPuPPI49UQ7p3FnXWXKCh{\n    border-left: 1px solid #f4f4f4!important;\n}\n._3roU7Sa_1cD7ZO-lsxCtBU{width: 90px}\n.Asokx0Kf3wVyKHLGI-TJD{\n    width: 300px;\n}\n\n._1U_OXuFVYrMY19gHQjRR6{\n    width: 100px;\n}\n._36qUuPhz6Zlx7cyvVBroOC{\n    width: 80px;\n}\n._3DjMWFAWMwUuhLLgNSVRd1{\n    width: 150px;\n}\n._34nPUiS8QRw1uzeJaA9d5Y{\n    width: 100px;\n}\n._1r4HR3rzXYc5z3DVHvUhr4{\n    width: 150px;\n}\n._2994F17eMU0PC2RqhazgKx{}",""]),t.locals={column:"_2z5TxovDRMlOcfX8ReP0S_",operation:"pkHO__tGn0zW9yQQ-nMfO",batchView:"_2PdI6bq8DQrSz9928jrD1o",borderRightNone:"_1_VdAC8N7MRcrG0PNQswbD",borderLeft:"_2jPuPPI49UQ7p3FnXWXKCh",goodsGoodsImg:"_3roU7Sa_1cD7ZO-lsxCtBU",goodsTitle:"Asokx0Kf3wVyKHLGI-TJD",goodsPrice:"_1U_OXuFVYrMY19gHQjRR6",goodsNum:"_36qUuPhz6Zlx7cyvVBroOC",goodsSpec:"_3DjMWFAWMwUuhLLgNSVRd1",reciver:"_34nPUiS8QRw1uzeJaA9d5Y",reciverPhone:"_1r4HR3rzXYc5z3DVHvUhr4",reciverAddress:"_2994F17eMU0PC2RqhazgKx"}},34:function(e,t,r){"use strict"},69:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formdDfaultProps={getFieldDecorator:function(){},resetFields:function(){},validateFields:function(){}},t.dispatchProps=function(){}}}]);
//# sourceMappingURL=60.js.map