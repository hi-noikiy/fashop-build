{"version":3,"sources":["pages/setting/shipperAdd.js","actions/area/index.js","components/public/page/index.js","webpack:///./src/components/public/page/index.css?9024","components/public/page/index.css"],"names":["_react","__webpack_require__","_area","_reactRedux","_shipper","FormItem","_form2","default","Item","ShipperAdd","create","connect","state","areaList","handleSubmit","e","preventDefault","_this","props","form","validateFields","err","values","dispatch","params","name","contact_number","area_id","areas","address","addShipper","Component","this","getCascaderAreaList","setState","getFieldDecorator","_react2","createElement","_page2","onSubmit","style","width","labelCol","span","wrapperCol","label","rules","required","message","_input2","placeholder","type","_cascader2","options","sm","offset","_button2","htmlType","_utils","getAreaList","_ref","Fetch","fetch","api","AreaApi","list","_callee","_regenerator2","wrap","_context","prev","next","level","tree","sent","code","result","abrupt","map","item","value","id","children","_child","length","sub","area","stop","undefined","_ref2","apply","arguments","getKeyAreaList","_callee2","_list","i","_context2","_ref3","className","styles","page","content","module","transform","locals","exports","push"],"mappings":"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","file":"static/js/43.js","sourcesContent":["// @flow\nimport React, { Component } from \"react\";\nimport { Input, Button, Form, Cascader } from 'antd';\nimport Page from '../../components/public/page'\nimport { getCascaderAreaList } from \"../../actions/area\";\nimport { connect } from \"react-redux\";\nimport { dispatchType, formType, handleSubmitType } from \"../../utils/flow\";\nimport { addShipper } from \"../../actions/deliver/shipper\";\n\nconst FormItem = Form.Item;\ntype Props = {\n    form: formType,\n    dispatch: dispatchType,\n    addShipper: Function\n}\ntype State = {\n    areaList: Array<{\n        value: number,\n        label: string,\n        children: Array<{\n            value: number,\n            label: string,\n            children: Array<{\n                value: number,\n                label: string\n            }>\n        }>\n    }>\n}\n@Form.create()\n@connect()\nexport default class ShipperAdd extends Component<Props, State> {\n    state = {\n        areaList: []\n    }\n\n    async componentDidMount() {\n        this.setState({\n            areaList: await getCascaderAreaList()\n        })\n    }\n\n    handleSubmit = (e: handleSubmitType) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                const { dispatch } = this.props\n                let params = {\n                    name: values.name,\n                    contact_number: values.contact_number,\n                    area_id: values.areas[2],\n                    address: values.address\n                }\n                dispatch(addShipper({ params }))\n            }\n        });\n    }\n\n    render() {\n        const { areaList } = this.state\n        const { getFieldDecorator } = this.props.form\n        return (\n            <Page>\n                <Form onSubmit={this.handleSubmit} style={{ width: 1000 }}>\n                    <FormItem\n                        labelCol={{ span: 3 }}\n                        wrapperCol={{ span: 4 }}\n                        label='联系人'\n                    >\n                        {getFieldDecorator('name', {\n                            rules: [{ required: true, message: '请输入联系人' }],\n                        })(\n                            <Input\n                                placeholder=\"请输入联系人\"\n                            />\n                        )}\n                    </FormItem>\n                    <FormItem\n                        labelCol={{ span: 3 }}\n                        wrapperCol={{ span: 6 }}\n                        label='联系方式'\n                    >\n                        {getFieldDecorator('contact_number', {\n                            rules: [{ required: true, message: '请输入联系方式' }],\n                        })(\n                            <Input\n                                placeholder=\"请输入联系方式\"\n                            />\n                        )}\n                    </FormItem>\n                    <FormItem\n                        labelCol={{ span: 3 }}\n                        wrapperCol={{ span: 6 }}\n                        label=\"所在地区\"\n                    >\n                        {getFieldDecorator('areas', {\n                            rules: [{\n                                type: 'array',\n                                required: true,\n                                message: '请选择所在地区'\n                            }],\n                        })(\n                            <Cascader options={areaList} placeholder='请选择所在地区' />\n                        )}\n                    </FormItem>\n                    <FormItem\n                        labelCol={{ span: 3 }}\n                        wrapperCol={{ span: 10 }}\n                        label='详细地址'\n                    >\n                        {getFieldDecorator('address', {\n                            rules: [{ required: true, message: '请输入详细地址' }],\n                        })(\n                            <Input\n                                placeholder=\"请输入详细地址\"\n                            />\n                        )}\n                    </FormItem>\n                    <FormItem\n                        wrapperCol={{ sm: { offset: 3 } }}\n                    >\n                        <Button\n                            type=\"primary\"\n                            htmlType=\"submit\"\n                        >\n                            添加\n                        </Button>\n                    </FormItem>\n                </Form>\n            </Page>\n        )\n    }\n}\n","import { Fetch } from \"../../utils\";\nimport { AreaApi } from \"../../config/api/area\"\n\nexport const getAreaList = ({ params }) => {\n    return Fetch.fetch({ api: AreaApi.list, params })\n}\n\nexport const getCascaderAreaList = async () => {\n    const e = await getAreaList({ params: { level: 2, tree: 1 } })\n    if (e.code === 0) {\n        const { list } = e.result\n        return list.map((item) => {\n            return {\n                value: item.id,\n                label: item.name,\n                children: item._child.length > 0 ? item._child.map((sub) => {\n                    return {\n                        value: sub.id,\n                        label: sub.name,\n                        children: sub._child.length > 0 ? sub._child.map((area) => {\n                            return {\n                                value: area.id,\n                                label: area.name\n                            }\n                        }) : []\n                    }\n                }) : []\n            }\n        })\n    } else {\n        return []\n    }\n}\n\nexport const getKeyAreaList = async () => {\n    const e = await getAreaList({ params: { level: 2 } })\n    if (e.code === 0) {\n        const { list } = e.result\n        let _list = []\n        for (let i = 0; i < list.length; i++) {\n            _list[list[i]['id']] = {\n                name: list[i].name\n            }\n        }\n        return _list\n    } else {\n        return []\n    }\n}\n","import React from \"react\";\nimport styles from \"./index.css\";\n\n\n\nconst Page = (props)=>(\n    <div className={styles.page}>{props.children}</div>\n)\n\nexport default Page\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js?modules!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"._1tWEKamef3HZm5j-qKDhxW{\\n    box-shadow: 4px 4px 20px 0 rgba(0,0,0,.01);\\n    background: #fff;\\n    padding: 24px;\\n    margin: 24px;\\n    border-radius: 4px;\\n}\\n@media (max-width: 767px) {\\n    ._1tWEKamef3HZm5j-qKDhxW{\\n        padding: 12px;\\n    }\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"page\": \"_1tWEKamef3HZm5j-qKDhxW\"\n};"],"sourceRoot":""}